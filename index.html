<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>803 學生聊天室 - 登入</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #00B900; /* LINE Green */
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .login-card {
            background: white;
            padding: 40px 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            width: 85%;
            max-width: 320px;
            text-align: center;
        }
        h1 { color: #333; margin-bottom: 5px; font-size: 24px; }
        p.subtitle { color: #666; font-size: 14px; margin-bottom: 30px; }
        
        input {
            width: 100%;
            padding: 15px;
            margin-bottom: 15px;
            border: 2px solid #eee;
            border-radius: 8px;
            font-size: 16px;
            box-sizing: border-box;
            outline: none;
            transition: border 0.3s;
        }
        input:focus { border-color: #00B900; }
        
        button {
            width: 100%;
            padding: 15px;
            background-color: #333;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s;
        }
        button:hover { background-color: #000; }
        
        .error-msg {
            color: #ff3b30;
            font-size: 14px;
            margin-top: 15px;
            display: none;
        }
    </style>
</head>
<body>

<div class="login-card">
    <h1>803 學生聊天室</h1>
    <p class="subtitle">班級專屬通訊軟體</p>
    
    <input type="text" id="userId" placeholder="請輸入帳號 (例如: JohnnyChiang01)">
    <button onclick="login()">登入</button>
    
    <div id="error" class="error-msg">帳號不存在，請檢查大小寫！</div>
</div>

<script>
    // 803 班級白名單 (帳號: 姓名)
    const userDatabase = {
        "JohnnyChiang01": "01宇霏",
        "MasonLin02": "02承瀚",
        "AustenLin03": "03奕辰",
        "AndrewLin04": "04晟志",
        "FreddyChiu05": "05仲謙",
        "SamChang07": "07洵謙",
        "RexTseng08": "08煒家",
        "KevinHuang09": "09昱凱",
        "EnzoLiu10": "10恩碩",
        "JosephTsai11": "11牧熹",
        "AaronSu12": "12禹名",
        "AnnieLin21": "21愛馜",
        "EuphieHuang23": "23之妤",
        "PaigeDonnaShepherd24": "24沛捷",
        "MandyLiao25": "25苡淳",
        "AbbyTsai26": "26牧霏",
        "AmberLuo27": "27涵緹",
        "CristalWang28": "28新瑀"
    };

    // 支援按下 Enter 鍵登入
    document.getElementById("userId").addEventListener("keypress", function(event) {
        if (event.key === "Enter") login();
    });

    function login() {
        const inputId = document.getElementById('userId').value.trim();
        const errorDiv = document.getElementById('error');

        // 檢查帳號是否在名單內
        if (userDatabase[inputId]) {
            const userName = userDatabase[inputId];
            
            // 儲存登入資訊到瀏覽器
            localStorage.setItem('chatUser', userName);
            localStorage.setItem('chatID', inputId);
            
            // 跳轉到主程式
            window.location.href = 'app.html';
        } else {
            // 顯示錯誤訊息
            errorDiv.style.display = 'block';
            errorDiv.innerText = "帳號不存在，請確認大小寫是否正確";
        }
    }
</script>

</body>
</html>
